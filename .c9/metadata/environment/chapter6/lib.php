{"filter":false,"title":"lib.php","tooltip":"/chapter6/lib.php","undoManager":{"mark":13,"position":13,"stack":[[{"start":{"row":0,"column":0},"end":{"row":260,"column":0},"action":"remove","lines":["<?php","class Employee","{","    private $name;","    private $type;","    public static $company = \"技評技術社\";","    private $state = \"働いている\";","    public $salary = 20;","    ","    const PARTTIME = 0x01;","    const REGULAR = 0x02;","    const CONTRACT = 0x03;","    ","    public function __construct($name, $type)","    {","        $this->name = $name;","        $this->type = $type;","    }","    ","    function getState()","    {","        return $this->state;","    }","    function setState($state)","    {","        $this->state = $state;","    }","    ","    ","    public function work() ","    {","        echo '書類を整理しています。', PHP_EOL;","    }","    ","    public static function getCompany() {","        return self::$company;","    }","    ","    public static function setCompany($value)","    {","        self::$company = $value;","    }","    ","}","","class Programmer extends Employee","{","    public function __construct($name, $type)","    {","        parent::__construct($name, $type);","    }","}","","interface Reader","{","    public function read();","}","","class Configure implements Reader","{","    ","}","","//","","class Employee","{","    public function __toString()","    {","        return 'This class is: ' . __CLASS__;","    }","}","$yamada = new Employee();","echo $yamada;","","//5.3.2","","class Foo","{","    public function helloGateway()","    {","        self::hello();","    }","    ","    public static function hello()","    {","        echo __CLASS__ . 'hello' . PHP_EOL;","    }","}","","class Bar extends Foo {","    public static function hello()","    {","        echo __CLASS__ . 'hello' . PHP_EOL;","    }","}","","$bar = new Bar();","echo $bar->helloGateway();","","//5.3.3","function __autoload($name) {","    $filename = $name . '.php';","    if (is_readable($filename)) {","        require $filename;","    }","}","","$obj = new Foo(); // 自動的にマジックメソッド__autoloadが読まれる","","//5.4.1","","//program.php","","require_once 'Cake.php';","","class Cake","{","    ","}","","//cake.php","","namespace Food\\Sweets;","","$c = new Food\\Sweets\\Cake();","","//5.4.2","","","//Project/Module/Directory.php","","namespace Project\\Module;","","$dir = new Directory();","$dir = new \\Project\\Module\\Directory();","","// 先頭に名前空間を宣言している場合は　\\がいる","","namespace Other;","","require_once 'Project/Module/Directory.php';","","$dir1 = new \\Project\\Module\\Directory();","","$dir2 = new \\Directory();","","//名前空間が宣言されていない場合","","require_once 'Project/Module/Directory.php';","","$dir = new Project\\Module\\Directory;","","//5-4","namespace Project\\Module;","","$namespace = \"Project\\\\Module\\\\\"; ","$class_name = 'SomeClass';","$class_name_with_us = $namespace . $class_name;","","$obj = new $class_name_with_us(); //new Project\\Module\\SomeClass()","","//5.5.1 PHPの例外","try {","    処理","} catch ( 例外クラス名　変数名) {","    例外処理","}","","","","function div ($v1, $v2)","{","    if ($v2 === 0) {","        throw new Exception(\"arg #2 is zero\");","    }","    return $v1/$v2;","}","","try {","    echo div(1, 2) . PHP_EOL;","    echo div(1, 0) . PHP_EOL;","    echo div(2, 1) . PHP_EOL;","} catch (Exception $e) {","    echo 'Exception' . PHP_EOL;","    echo $e->getMessage(), PHP_EOL;","}","","// 5.5.4 PHPエラーと例外","set_error_handler(function ($errno, $errstr, $errfile, $errline)","{","    throw new ErrorException($errstr, 0, $errno, $errfile, $errline);","});","","try {","    array_merge();","} catch (ErrorException $e) {","    echo 'error occured!' . PHP_EOL;","}","","//5.6 参照","","$a = 10;","$b =&a;","$c = $a;","","//5.6.4","function array_path($array) {","    $array[0] *= 2;","    $array[1] *= 2;","}","","function array_path_ref(&$array) {","    $array[0] *= 2;","    $array[1] *= 2;","}","","$a = 10;","$b = 20;","","$array = array($a, &$b);","array_pass($array);","","$a = 10;","$b = 20;","","$array = array($a, $b);","array_path_ref($array);","","//5.6.3","$a = new stdClass();","","$b = a;","","$c =& $a;","","class RefClass","{","    public function __construct()","    {","        echo __CLASS__, 'が生成されました' . PHP_EOL;","    }","    ","    public function __destruct()","    {","        echo __CLASS__, 'が破棄されました' . PHP_EOL;","    }","}","","echo '** プログラム開始' . PHP_EOL;","echo '** new RefClass()', PHP_EOL;","$a = new RefClass();","echo '** $b = $a' . PHP_EOL;","$b = $a;","echo '** unset $a', PHP_EOL;","unset($a);","echo '** unset $b', PHP_EOL;","unset($b);","echo '** プログラム終了', PHP_EOL;","",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["<"],"id":3},{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["?"]},{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["p"]},{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":["h"]},{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["p"]}],[{"start":{"row":0,"column":5},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":2,"column":0},"end":{"row":14,"column":7},"action":"insert","lines":["<html>","    <body>","        <?php $hour = date('H'); ?>","        <?php if (5 <= $hour && $hour < 10): ?>","        <p>おはよう</p>","        <?php elseif (10 <= $hour && $hour < 18): ?>","        <p>こんにちは</p>","        <?php else: ?>","        <p>こんばんは</p>","        <?php endif; ?>","        <p>現在<?php echo $hour ?>時です。</p>","    </body>","</html>"],"id":5}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":5},"action":"remove","lines":["<?php"],"id":6}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["/"],"id":7},{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["6"],"id":8}],[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":["/"],"id":9},{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["1"]}],[{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"remove","lines":["1"],"id":10},{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"remove","lines":["/"]}],[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":["."],"id":11},{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["1"]},{"start":{"row":0,"column":5},"end":{"row":0,"column":6},"action":"insert","lines":["."]},{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"insert","lines":["2"]}],[{"start":{"row":14,"column":7},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["",""]},{"start":{"row":16,"column":0},"end":{"row":16,"column":1},"action":"insert","lines":["/"]},{"start":{"row":16,"column":1},"end":{"row":16,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":16,"column":2},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":17,"column":0},"end":{"row":18,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":18,"column":0},"end":{"row":33,"column":0},"action":"insert","lines":["<html>","    <body>","        <?php if (isset($_GET['name']) && strlen($_GET['name']) > 0): ?>","        <p><?php echo htmlspecialchars($_GET['name'], ENT_QUOTES, 'UTF-8'); ?> さんこんにちは</p>","        <?php endif ?>","        ","        <form action='form.php' method='get'>","            <p>","                名前を入れてください。:","                <input type=\"text\" name=\"name\" />","                <input type=\"submit\" value=\"送信\" />","            </p>","        </form>","    </body>","</html>",""],"id":14}],[{"start":{"row":16,"column":2},"end":{"row":16,"column":6},"action":"insert","lines":["フォーム"],"id":15}]]},"ace":{"folds":[],"scrolltop":193.5,"scrollleft":0,"selection":{"start":{"row":16,"column":6},"end":{"row":16,"column":6},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":10,"state":"start","mode":"ace/mode/php"}},"timestamp":1601341417593,"hash":"8efae5275e8828d9e6c791fe4aaa1b05da28e55e"}